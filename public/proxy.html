<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>جارٍ التحميل...</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
    }
    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
  </style>
</head>
<body>
  <iframe id="content" src=""></iframe>

  <script>
    const params = new URLSearchParams(window.location.search);
    const id = params.get('id');

    if (id) {
      fetch(`https://video-dashboard-backend.onrender.com/api/proxy/${id}`)
        .then(response => response.json())
        .then(data => {
          if (!data.link) throw new Error("❌ الرابط غير متوفر");
          document.getElementById("content").src = data.link;
        })
        .catch(() => {
          document.body.innerHTML = '<h2 style="text-align:center; margin-top:20%;">❌ حدث خطأ أثناء تحميل الرابط</h2>';
        });
    } else {
      document.body.innerHTML = '<h2 style="text-align:center; margin-top:20%;">❌ لا يوجد رابط</h2>';
    }
  </script>
</body>
</html>
